{"version":3,"file":"src_app_pages_forum_forum_module_ts.js","mappings":"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","sources":["./src/app/pages/forum/forum-routing.module.ts","./src/app/pages/forum/forum.module.ts","./src/app/pages/forum/forum.page.html","./src/app/pages/forum/forum.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ForumPage } from './forum.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForumPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ForumPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\nimport { ForumPageRoutingModule } from './forum-routing.module';\n\nimport { ForumPage } from './forum.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ScrollingModule,\n    PipesModule,\n    ForumPageRoutingModule\n  ],\n  declarations: [ForumPage]\n})\nexport class ForumPageModule {}\n","<ion-header>\n  <ion-toolbar class=\"ion-text-center\" color=\"primary\">\n    <!-- <ion-buttons slot=\"start\">\n      <ion-button (click)=\"ayuda()\">\n        <ion-icon slot=\"icon-only\" name=\"help-circle-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons> -->\n    <!-- <ion-buttons slot=\"primary\">\n      <ion-button (click)=\"filtro()\">\n        <ion-icon slot=\"icon-only\" name=\"filter-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons> -->\n\n    <ion-title>Foro</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content fullscreen [scrollY]=\"false\">\n\n  <cdk-virtual-scroll-viewport itemSize=\"56\" minBufferPx=\"900\" maxBufferPx=\"1350\">\n\n  <!-- <ion-segment [(ngModel)]=\"foros\" (ionChange)=\"segmentChanged($event)\">\n    <ion-segment-button value=\"foros\">        \n      <ion-icon name=\"chatbubbles-outline\"></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button value=\"cerrados\">\n      <ion-icon name=\"lock-closed-outline\"></ion-icon>\n    </ion-segment-button> \n    <ion-segment-button value=\"abiertos\">\n      <ion-icon name=\"lock-open-outline\"></ion-icon>\n    </ion-segment-button>\n  </ion-segment> -->\n\n  <!-- <div [ngSwitch]=\"foros\"> -->\n    <ion-searchbar id=\"input\" (ionInput)=\"getItems($event)\" placeholder=\"Buscar por título o comentario\"></ion-searchbar>  \n    <ion-card *cdkVirtualFor=\"let item of items; let isOdd = odd; let i = index\" [class.odd]=\"isOdd\" button=\"true\" (click)=\"leerTema(items[i])\">\n      <ion-card-header>\n        <ion-card-subtitle>        \n          <ion-icon name=\"time-outline\"></ion-icon> {{items[i].Fecha}}\n        </ion-card-subtitle>\n        <ion-card-title>\n          <!-- {{items[i].Usuario}} -->\n          <ion-chip>\n            <ion-avatar>\n              <img src=\"../assets/imgs/icon.png\">\n            </ion-avatar>\n            <!-- <ion-icon name=\"settings-outline\"></ion-icon> -->\n            <ion-label>{{items[i].Usuario | uppercase}}</ion-label>\n          </ion-chip>\n        </ion-card-title>\n      </ion-card-header>\n  \n      <ion-card-content class=\"ion-text-wrap\">\n        <!-- <h3><b>{{items[i].Titulo}}</b></h3> -->\n        <h3><b><section [innerHTML]=\"items[i].Titulo | safeHtml\"></section></b></h3>\n      </ion-card-content>  \n\n      <!-- <ion-item>\n        <ion-avatar item-start>\n          <img src=\"../assets/imgs/icon.png\">\n        </ion-avatar>\n        <h2>{{items[i].Usuario}}</h2>\n        <p><ion-icon small name=\"md-time\"></ion-icon> {{items[i].Fecha}}</p>\n      </ion-item> -->\n    \n      <!-- <img src=\"img/advance-card-bttf.png\"> -->\n    \n      <!-- <ion-card-content text-wrap> -->\n        <!-- <h3><b>{{items[i].Titulo}}</b></h3> -->\n        <!-- <p>{{items[i].Comentario}}</p> -->\n        <!-- <div class=\"comentario\" [innerHTML]=\"items[i].Comentario | safeHtml\"></div> -->\n      <!-- </ion-card-content> -->\n    \n      <ion-row>\n        <!-- <ion-col>\n          <button ion-button icon-start clear small>\n            <ion-icon name=\"thumbs-up\"></ion-icon>\n            <div>12 Likes</div>\n          </button>\n        </ion-col> -->\n        <ion-col>\n          <ion-button size=\"small\" fill=\"clear\" icon-start (click)=\"leerTema(items[i])\">\n            <ion-icon *ngIf=\"items[i].Respuestas > 0\" name=\"chatbubbles\"></ion-icon>\n            <ion-icon *ngIf=\"items[i].Respuestas == 0\" name=\"chatbubbles-outline\"></ion-icon>\n            {{items[i].Respuestas}}\n            <ion-icon *ngIf=\"items[i].Anclado == true\" name=\"flag\" class=\"anclado\"></ion-icon>\n            <ion-icon *ngIf=\"items[i].Estado == true\" name=\"lock-closed\" class=\"cerrado\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col class=\"ion-text-right\">\n          <ion-note>\n            <ion-button size=\"small\" icon-start (click)=\"leerTema(items[i])\" >\n                <ion-icon name='eye'></ion-icon>\n                Leer\n            </ion-button> \n          </ion-note>\n        </ion-col>\n      </ion-row>    \n      \n    </ion-card>  \n    <section class=\"ion-padding ion-text-center\" *ngIf=\"items != null && items.length < 1\">\n      <img width=\"200\" src=\"../assets/imgs/empty.png\">\n    </section>\n  <!-- </div> -->\n\n  </cdk-virtual-scroll-viewport>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-fab-button [disabled]=\"accesoForo == 0\" (click)=\"nuevoTema()\"><ion-icon name=\"create-outline\"></ion-icon></ion-fab-button>\n  </ion-fab>\n\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController, ActionSheetController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { NavparamService } from 'src/app/services/navparam.service';\nimport { AulavirtualrestProvider } from '../../providers/aulavirtualrest';\nimport { LogoutProvider } from '../../providers/logout';\nimport { Storage } from '@ionic/storage-angular';\n\n\n@Component({\n  selector: 'app-forum',\n  templateUrl: './forum.page.html',\n  styleUrls: ['./forum.page.scss'],\n})\nexport class ForumPage implements OnInit {\n\n  idCurso: number;\n  usuario: any = [];\n  items: any[];\n  allitems: any[];\n  titulo: string;\n  comentario: string;\n  searchQuery: string = '';\n  accesoForo: number;\n  foros: string = \"foros\";\n\n  constructor(private router: Router, private navParamService: NavparamService, public proveedor: AulavirtualrestProvider, public proveedorLogout: LogoutProvider, public alertCtrl: AlertController, public loadingCtrl: LoadingController, public actionSheetCtrl: ActionSheetController, private storage: Storage) { }\n\n  ngOnInit() {\n    //this.initializeItems();\n  }\n\n  ionViewWillEnter() {\n    this.initializeItems();\n  }\n\n  async initializeItems() {\n\n    const loading = await this.loadingCtrl.create({\n      message: \"Cargando...\"\n    });\n    await loading.present();\n\n    // Se obtienen el id del curso de la memoria\n    this.storage.get('idCurso').then((val) => {\n      if (val != null && val != undefined){\n        this.idCurso = val;       \n      }\n      else{\n        // Si no se han recuperado los datos se vuelve a la página de login\n        this.proveedorLogout.logout()\n      }\n    });\n\n    // Se obtienen los datos del usuario de la memoria\n    this.storage.get('usuario').then((val) => {\n      if (val != null && val != undefined){\n        this.usuario = JSON.parse(val);\n\n        this.proveedor.obtenerTemasForo(this.usuario.Mensaje.AuthorizationToken, this.idCurso)\n        .subscribe(\n          //(data)=>{this.tests = data;},\n          (data)=>{this.parseJson(data);},\n          (error)=>{console.log(error);},\n          () =>{loading.dismiss()}\n        )\n      }\n      else{\n        // Si no se han recuperado los datos se vuelve a la página de login\n        this.proveedorLogout.logout()\n      }\n    });\n  }\n\n  parseJson(data)\n  {\n    if (data.Error == 0){\n      let jsonArray = data.Mensaje;\n\n      this.items = [];\n      this.allitems = [];\n\n      if (jsonArray.length > 0){\n        for(let i=0; i < jsonArray.length; i++)\n        {\n          let jsonObject = jsonArray[i];\n          this.items.push(jsonObject);\n          this.allitems.push(jsonObject);\n        }\n      }\n      else{\n        // const alert = this.alertCtrl.create({\n        //   title: 'Sin Temas',\n        //   subTitle: 'El foro del curso todavía no contiene temas. ¡Se el primero en añadir uno! :)',\n        //   buttons: ['OK']\n        // });\n        // alert.present();\n        //this.alert('Sin Temas', 'Este foro todavía no contiene temas. ¡Se el primero en añadir uno! :)');\n      }\n    }\n    // Acceso denegado\n    else if (data.Error == -10){\n      this.proveedorLogout.logout()\n    }\n    else{\n      this.items = [];\n      //this.alert('Sin Temas', 'Este foro todavía no contiene temas. ¡Se el primero en añadir uno! :)');\n      // const alert = this.alertCtrl.create({\n      //   title: 'Sin Temas',\n      //   subTitle: 'El foro del curso todavía no contiene temas. ¡Se el primero en añadir uno! :)',\n      //   buttons: ['OK']\n      // });\n      // alert.present();\n    }\n  }\n\n  getItems(ev: any) {\n\n    if (this.allitems != null && this.allitems != undefined){\n      // Reset items back to all of the items\n      this.items = this.allitems;\n\n      this.searchQuery = '';\n\n      // set val to the value of the searchbar\n      const val = ev.target.value;\n\n      // if the value is an empty string don't filter the items\n      if (val && val.trim() != '') {\n        this.searchQuery = val;\n        this.items = this.items.filter((item) => {\n          return ((item.Titulo.toLowerCase().indexOf(val.toLowerCase()) > -1) || (item.Comentario.toLowerCase().indexOf(val.toLowerCase()) > -1));\n        })\n      }\n    }\n  }\n\n  leerTema(tema: any){\n    //this.navCtrl.push(ForoTemaPage, {tema: tema});\n    this.navParamService.setNavData(tema);\n    this.router.navigate(['/forum-topic']);\n  }\n\n  async nuevoTema() {\n    const prompt = await this.alertCtrl.create({\n      header: 'Nuevo Tema',\n      //message: \"Introduce los datos del nuevo tema:\",\n      inputs: [\n        {\n          name: 'titulo',\n          placeholder: 'Título'\n        },\n        {\n          name: 'mensaje',\n          placeholder: 'Mensaje',\n          max: '1000'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: data => {\n            // console.log('Cancel clicked');            \n          }\n        },\n        {\n          text: 'Enviar',\n          handler: data => {\n            this.titulo = data.titulo;\n            this.comentario = data.mensaje;\n            this.insertarTema();\n          }\n        }\n      ]\n    });\n    await prompt.present();\n  } \n\n  // nuevoTemaPaso1() {\n  //   const prompt = this.alertCtrl.create({\n  //     title: 'Nuevo Tema - Paso 1',\n  //     message: \"Introduce el título del nuevo tema:\",\n  //     inputs: [\n  //       {\n  //         name: 'titulo',\n  //         placeholder: 'Título',\n  //         max: '300'\n  //       },\n  //     ],\n  //     buttons: [\n  //       {\n  //         text: 'Cancelar',\n  //         handler: data => {\n  //           // console.log('Cancel clicked');\n  //         }\n  //       },\n  //       {\n  //         text: 'Siguiente',\n  //         handler: data => {\n  //           this.titulo = data.titulo;\n  //           this.nuevoTemaPaso2();\n  //         }\n  //       }\n  //     ]\n  //   });\n  //   prompt.present();\n  // } \n\n  // nuevoTemaPaso2() {\n  //   const prompt = this.alertCtrl.create({\n  //     title: 'Nuevo Tema - Paso 2',\n  //     message: \"Introduce el mensaje del nuevo tema:\",\n  //     inputs: [\n  //       {\n  //         name: 'mensaje',\n  //         placeholder: 'Mensaje',\n  //         max: '1000'\n  //       },\n  //     ],\n  //     buttons: [\n  //       {\n  //         text: 'Cancelar',\n  //         handler: data => {\n  //           // console.log('Cancel clicked');\n  //         }\n  //       },\n  //       {\n  //         text: 'Guardar',\n  //         handler: data => {\n  //           this.comentario = data.mensaje;\n  //           this.insertarTema();\n  //         }\n  //       }\n  //     ]\n  //   });\n  //   prompt.present();\n  // } \n\n  async insertarTema()\n  {\n    if (this.titulo != \"\" && this.comentario != \"\"){\n      const loading = await this.loadingCtrl.create({\n        message: \"Creando tema...\"\n      });\n      await loading.present();\n\n      // Se inserta el nuevo tema en base de datos\n      this.proveedor.nuevoTema(this.usuario.Mensaje.AuthorizationToken, this.idCurso, this.titulo, this.comentario)\n      .subscribe(\n        //(data)=>{console.log(data);},\n        (data)=>{this.nuevoTemaCreado(data);},\n        (error)=>{console.log(error);},\n        () =>{loading.dismiss()}\n      )    \n    }\n    else{\n      // const alert = this.alertCtrl.create({\n      //   title: 'ATENCIÓN',\n      //   subTitle: 'Debes introducir título y mensaje para crear un nuevo tema',\n      //   buttons: ['OK']\n      // });\n      // alert.present();\n\n      this.alert('ATENCIÓN', 'Debes introducir título y mensaje para crear un nuevo tema');\n    }\n\n  }\n\n  nuevoTemaCreado(data: any){\n    // const alert = this.alertCtrl.create({\n    //   title: '¡Tema Creado!',\n    //   subTitle: data.Mensaje,\n    //   buttons: ['OK']\n    // });\n    // alert.present();\n\n    this.alert('¡Tema Creado!', data.Mensaje);\n\n    this.initializeItems();\n  }\n\n  ayuda()\n  {\n    //this.navCtrl.push(FaqPage);\n    this.router.navigate(['/faq']);\n  }\n\n  async filtro()\n  {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: 'Filtrar por:',\n      buttons: [\n        {\n          text: 'Todos',\n          icon: 'chatbubbles-outline',\n          handler: () => {\n            this.items = this.allitems;\n          }\n        },\n        {\n          text: 'Abiertos',\n          icon: 'lock-open-outline',\n          handler: () => {\n            this.items = this.allitems;\n            this.items = this.items.filter((item) => {\n              return ((item.Estado == 0));\n            })\n          }\n        },{\n          text: 'Cerrados',\n          icon: 'lock-closed-outline',\n          handler: () => {\n            this.items = this.allitems;\n            this.items = this.items.filter((item) => {\n              return ((item.Estado == 1));\n            })\n          }\n        },{\n          text: 'Cancelar',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  segmentChanged(ev: any) {\n    console.log('Segment changed', ev.detail.value);\n    switch(ev.detail.value)\n    {\n      case 'foros':\n        this.items = this.allitems;\n        break;\n      case 'abiertos':\n        this.items = this.allitems;\n        this.items = this.items.filter((item) => {\n          return ((item.Estado == 0));\n        })\n        break;\n      case 'cerrados':\n        this.items = this.allitems;\n        this.items = this.items.filter((item) => {\n          return ((item.Estado == 1));\n        })\n        break;\n    }\n  }\n\n  async alert(cabecera: string, mensaje: string) {\n    const alert = await this.alertCtrl.create({\n      header: cabecera,\n      message: mensaje,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n}\n"],"names":["i0","ForumPage","constructor","router","navParamService","proveedor","proveedorLogout","alertCtrl","loadingCtrl","actionSheetCtrl","storage","ngOnInit","ionViewWillEnter","initializeItems","loading","create","message","present","get","then","val","undefined","idCurso","logout","usuario","JSON","parse","obtenerTemasForo","Mensaje","AuthorizationToken","subscribe","data","parseJson","error","console","log","dismiss","Error","jsonArray","items","allitems","length","i","jsonObject","push","getItems","ev","searchQuery","target","value","trim","filter","item","Titulo","toLowerCase","indexOf","Comentario","leerTema","tema","setNavData","navigate","nuevoTema","prompt","header","inputs","name","placeholder","max","buttons","text","handler","titulo","comentario","mensaje","insertarTema","nuevoTemaCreado","alert","ayuda","filtro","actionSheet","icon","Estado","role","segmentChanged","detail","cabecera","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}