{"version":3,"file":"src_app_pages_events_events_module_ts.js","mappings":"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","sources":["./src/app/pages/events/events-routing.module.ts","./src/app/pages/events/events.module.ts","./src/app/pages/events/events.page.html","./src/app/pages/events/events.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventsPage } from './events.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventsPageRoutingModule } from './events-routing.module';\n\nimport { EventsPage } from './events.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventsPageRoutingModule\n  ],\n  declarations: [EventsPage]\n})\nexport class EventsPageModule {}\n","<ion-header>\n  <ion-toolbar class=\"ion-text-center\" color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button text=\"Volver\"></ion-back-button>\n      <!-- <ion-button (click)=\"volver()\">\n        <ion-icon name=\"chevron-back-outline\"> Volver</ion-icon>\n      </ion-button> -->\n    </ion-buttons>\n    <ion-title>Eventos</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"cards-bg social-cards\">\n  <div padding>\n    <ion-segment [(ngModel)]=\"eventos\" (ionChange)=\"segmentChanged($event)\">\n      <ion-segment-button value=\"eventos\">\n        Eventos\n      </ion-segment-button>\n      <ion-segment-button value=\"misEventos\">\n        Mis Eventos\n      </ion-segment-button>\n    </ion-segment>\n  </div>\n\n  <div [ngSwitch]=\"eventos\">\n    <!-- <ion-list class=\"ion-text-wrap\" *ngSwitchCase=\"'eventos'\"> -->\n    <ion-list class=\"ion-text-wrap\">\n      <ion-searchbar id=\"input\" (ionInput)=\"getItems($event)\" placeholder=\"Buscar por nombre o fecha\"></ion-searchbar>  \n      <!-- <ion-card class=\"ion-text-wrap\" ion-item *ngFor=\"let item of items; let i = index\" [ngClass]=\"items[i].Apuntado == true ? 'hidden' : 'visible' \"> -->\n      <ion-card class=\"ion-text-wrap\" ion-item *ngFor=\"let item of items; let i = index\">\n        <!-- {{currentDate | date:'dd-MM-yyyy'}} -->\n        <ion-card-header>          \n          <ion-row>\n            <ion-col size=\"3\">\n              <!-- <div class=\"ion-text-left\"> -->\n              <ion-avatar item-start>\n                <img src=\"../assets/imgs/icon.png\">\n                <!-- <img *ngIf=\"item.Imagen == 0\" src=\"../assets/imgs/icon.png\">\n                <img *ngIf=\"item.Imagen == 1\" src=\"https://aulavirtualctp.com/Academias/Cursos/imgCurso.ashx?ID={{item.IdCurso}}\"> -->\n              </ion-avatar>\n              <!-- </div> -->\n            </ion-col>\n            <ion-col>\n              <ion-card-subtitle> \n                <ion-icon small name=\"calendar-clear-outline\"></ion-icon> {{items[i].FechaInicioEvento}}\n                <p [ngClass]=\"(items[i].FechaFinEvento == '' || items[i].FechaFinEvento == ' ' || items[i].FechaFinEvento == null || items[i].FechaFinEvento == '31/12/9999 23:59:59') ? 'hidden' : 'visible' \">\n                  <!-- <ion-icon small name=\"md-alarm\" class=\"danger\"></ion-icon> {{items[i].FechaFinEvento | date: 'dd/MM/yyyy H:mm'}} -->\n                  <ion-icon small name=\"alarm-outline\" class=\"danger\"></ion-icon> {{items[i].FechaFinEvento}}\n                </p>\n              </ion-card-subtitle>\n              <ion-card-title>\n                <!-- <ion-avatar item-start>\n                  <img src=\"../assets/imgs/icon.png\">\n                  <img *ngIf=\"item.Imagen == 0\" src=\"../assets/imgs/icon.png\">\n                  <img *ngIf=\"item.Imagen == 1\" src=\"https://aulavirtualctp.com/Academias/Cursos/imgCurso.ashx?ID={{curso.IdCurso}}\">\n                </ion-avatar> -->\n                {{items[i].Nombre}}\n              </ion-card-title>\n            </ion-col>\n          </ion-row>\n        </ion-card-header>\n        \n        <!-- <ion-card-content class=\"ion-text-wrap\">\n\n        </ion-card-content> -->\n        <!-- <ion-item >\n          <ion-avatar item-start>\n            <img src=\"../assets/imgs/icon.png\">\n          </ion-avatar>\n          <ion-avatar slot=\"start\" >\n            <img *ngIf=\"item.Imagen == 0\" src=\"../assets/imgs/icon.png\">\n            <img *ngIf=\"item.Imagen == 1\" src=\"https://aulavirtualctp.com/Academias/Cursos/imgCurso.ashx?ID={{curso.IdCurso}}\">\n          </ion-avatar>\n          <h2>{{items[i].Nombre}}</h2>\n          <p>\n            <ion-icon small name=\"calendar-clear-outline\"></ion-icon> {{items[i].FechaInicioEvento}}\n          </p>\n          <p [ngClass]=\"(items[i].FechaFinEvento == '' || items[i].FechaFinEvento == ' ' || items[i].FechaFinEvento == null || items[i].FechaFinEvento == '31/12/9999 23:59:59') ? 'hidden' : 'visible' \">\n            <ion-icon small name=\"alarm-outline\" class=\"danger\"></ion-icon> {{items[i].FechaFinEvento}}\n          </p>\n        </ion-item> -->\n      \n        <!-- <img src=\"img/advance-card-bttf.png\"> -->\n      \n        <!-- <ion-card-content> -->\n          <!-- <h3><ion-icon name=\"information-circle-outline\"></ion-icon><b>INFO</b></h3> -->\n          <!-- <div class=\"informacion\" [innerHTML]=\"items[i].Descripcion | safeHtml\"></div> -->\n        <!-- </ion-card-content> -->\n      \n        <ion-card-content>\n        <ion-row>\n          <!-- <ion-col>\n            <button ion-button icon-start clear small>\n              <ion-icon name=\"thumbs-up\"></ion-icon>\n              <div>12 Likes</div>\n            </button>\n          </ion-col> -->\n          <ion-col>\n              <p [ngClass]=\"(items[i].Ubicacion == '' || items[i].Ubicacion == ' ' || items[i].Ubicacion == null) ? 'hidden' : 'visible' \">\n                <ion-icon name=\"location\"></ion-icon> {{items[i].Ubicacion}}\n              </p>\n              <p [ngClass]=\"items[i].Aforo > 0 ? 'visible' : 'hidden' \">\n                <ion-icon name=\"people\"></ion-icon>\n                Plazas limitadas: {{items[i].NumAlumnos}} / {{items[i].Aforo}}\n              </p>\n              <p [ngClass]=\"items[i].Aforo == 0 ? 'visible' : 'hidden' \">\n                <ion-icon name=\"people\"></ion-icon>\n                {{items[i].NumAlumnos}} alumnos apuntados\n              </p>\n            <!-- <p [ngClass]=\"((items[i].Aforo > 0) && (items[i].Aforo > items[i].NumAlumnos)) ? 'visible' : 'hidden' \">\n              <ion-icon small name=\"md-people\"></ion-icon>\n              Plazas limitadas: {{items[i].NumAlumnos}} / {{items[i].Aforo}}\n            </p>\n            <p [ngClass]=\"((items[i].Aforo > 0) && (items[i].NumAlumnos >= items[i].Aforo)) ? 'visible' : 'hidden' \">\n              <ion-icon small name=\"md-people\"></ion-icon>\n              ¡AFORO COMPLETO!\n            </p> -->\n          </ion-col>\n          <ion-col class=\"ion-text-right\">\n                <ion-button ion-button icon-start fill=\"clear\" class=\"info\" (click)=\"info(items[i].Descripcion)\" [ngClass]=\"(items[i].Apuntado == true) || (items[i].Descripcion == '' || items[i].Descripcion == ' ' || items[i].Descripcion == null) ? 'hidden' : 'visible' \">\n                  <ion-icon name=\"information-circle\"></ion-icon>\n                </ion-button>\n                <!-- <button ion-button icon-start clear class=\"info\" (click)=\"borrar(items[i].IdCurso)\" [ngClass]=\"(items[i].Apuntado == true) && (items[i].FechaFinEvento != '' && items[i].FechaFinEvento != null && ((items[i].FechaFinEvento.toDate | date:'dd/MM/yyyy HH:mm:ss') > (items[i].FechaHoy.toDate | date:'dd/MM/yyyy HH:mm:ss'))) ? 'visible' : 'hidden' \"> -->\n                <ion-button ion-button icon-start fill=\"clear\" class=\"info\" (click)=\"borrar(items[i].IdCurso, items[i].FechaFinEvento, items[i].FechaHoy)\" [ngClass]=\"(items[i].Apuntado == true) ? 'visible' : 'hidden' \">\n                  <ion-icon name=\"trash\"></ion-icon>\n                </ion-button>\n            <!-- <ion-note [ngClass]=\"(items[i].Apuntado == false) && ((items[i].Aforo == 0) || ((items[i].Aforo > 0) && (items[i].Aforo > items[i].NumAlumnos))) ? 'visible' : 'hidden' \"> -->\n                <!-- <button size=\"small\" icon-start (click)=\"meApunto(items[i].Codigo, items[i].FechaFinEvento, items[i].FechaHoy)\" >\n                    <ion-icon name='md-hand-right'></ion-icon>\n                    ¡ME APUNTO!\n                </button>  -->\n                <ion-button [ngClass]=\"(items[i].Apuntado == false) && ((items[i].Aforo == 0) || ((items[i].Aforo > 0) && (items[i].Aforo > items[i].NumAlumnos))) ? 'visible' : 'hidden' \" size=\"small\" icon-start (click)=\"meApunto(items[i].IdCurso, items[i].Codigo)\" >\n                  <ion-icon name='hand-right'></ion-icon>\n                  ME APUNTO\n                </ion-button>\n            <!-- </ion-note> -->\n            <!-- <ion-note [ngClass]=\"(items[i].Apuntado == false) && ((items[i].Aforo > 0) && ((items[i].Aforo > 0) && (items[i].NumAlumnos >= items[i].Aforo))) ? 'visible' : 'hidden' \">             -->\n                <ion-button [ngClass]=\"(items[i].Apuntado == false) && ((items[i].Aforo > 0) && ((items[i].Aforo > 0) && (items[i].NumAlumnos >= items[i].Aforo))) ? 'visible' : 'hidden' \" size=\"small\" icon-start class=\"completo\" (click)=\"completo()\" >\n                    <ion-icon name='people'></ion-icon>\n                    COMPLETO\n                </ion-button> \n            <!-- </ion-note> -->\n            <!-- <ion-note [ngClass]=\"items[i].Apuntado == true ? 'visible' : 'hidden' \"> -->\n                <ion-button [ngClass]=\"items[i].Apuntado == true ? 'visible' : 'hidden' \" size=\"small\" icon-start class=\"apuntado\" (click)=\"apuntado()\" >\n                    <ion-icon name='happy'></ion-icon>\n                    APUNTADO\n                </ion-button> \n            <!-- </ion-note> -->\n          </ion-col>\n        </ion-row>  \n        </ion-card-content>  \n        \n      </ion-card> \n      <section class=\"ion-padding ion-text-center\" *ngIf=\"items != null && items.length < 1\">\n        <img width=\"200\" src=\"../assets/imgs/empty.png\">\n      </section>\n    </ion-list>\n\n  </div>   \n\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController, ActionSheetController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { NavparamService } from 'src/app/services/navparam.service';\nimport { AulavirtualrestProvider } from '../../providers/aulavirtualrest';\nimport { LogoutProvider } from '../../providers/logout';\nimport { Storage } from '@ionic/storage-angular';\n\n@Component({\n  selector: 'app-events',\n  templateUrl: './events.page.html',\n  styleUrls: ['./events.page.scss'],\n})\nexport class EventsPage implements OnInit {\n\n  usuario: any = [];\n  items: any[];\n  allitems: any[];\n  // itemsMisEventos: any[];\n  // allitemsMisEventos: any[];\n  titulo: string;\n  comentario: string;\n  searchQuery: string = '';\n  searchQueryMisEventos: string = '';\n  eventos: string = \"eventos\";\n  misEventos: string = \"misEventos\";\n  currentDate = new Date();\n\n  constructor(private router: Router, private navParamService: NavparamService, public proveedor: AulavirtualrestProvider, public proveedorLogout: LogoutProvider, public alertCtrl: AlertController, public loadingCtrl: LoadingController, public actionSheetCtrl: ActionSheetController, private storage: Storage) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n\n    if (this.searchQuery == ''){\n      this.initializeItems();\n    }\n\n  }\n\n  async initializeItems() {\n\n    const loading = await this.loadingCtrl.create({\n      message: \"Cargando...\"\n    });\n    await loading.present();\n\n    // Se obtienen los datos del usuario de la memoria\n    this.storage.get('usuario').then((val) => {\n      if (val != null && val != undefined){\n        this.usuario = JSON.parse(val);\n\n        this.proveedor.consultarEventos(this.usuario.Mensaje.AuthorizationToken)\n        .subscribe(\n          //(data)=>{this.tests = data;},\n          (data)=>{this.parseJson(data);},\n          (error)=>{console.log(error);},\n          () =>{loading.dismiss()}\n        )\n      }\n      else{\n        // Si no se han recuperado los datos se vuelve a la página de login\n        this.proveedorLogout.logout();\n      }\n    });\n  }\n\n  parseJson(data)\n  {\n    //console.log(data);\n\n    if (data.Error == 0){\n      let jsonArray = data.Mensaje;\n\n      this.items = [];\n      this.allitems = [];\n      // this.itemsMisEventos = [];\n      // this.allitemsMisEventos = [];\n\n      if (jsonArray.length > 0){\n        for(let i=0; i < jsonArray.length; i++)\n        {\n          let jsonObject = jsonArray[i];\n          this.items.push(jsonObject);\n          this.allitems.push(jsonObject);\n          // this.itemsMisEventos.push(jsonObject);\n          // this.allitemsMisEventos.push(jsonObject);\n        }\n      }\n      else{\n        //this.alert('Sin Eventos', 'Permanece atento a los próximos eventos del centro');\n      }\n    }\n    // Acceso denegado\n    else if (data.Error == -10){\n      this.proveedorLogout.logout();\n    }\n    else{\n      this.items = [];\n      // this.itemsMisEventos = [];\n      //this.alert('Sin Eventos', 'Permanece atento a los próximos eventos del centro');\n    }\n  }\n\n  getItems(ev: any) {\n\n    if (this.allitems != null && this.allitems != undefined){\n      // Reset items back to all of the items\n      this.items = this.allitems;\n\n      this.searchQuery = '';\n\n      // set val to the value of the searchbar\n      const val = ev.target.value;\n\n      // if the value is an empty string don't filter the items\n      if (val && val.trim() != '') {\n        this.searchQuery = val;\n        this.items = this.items.filter((item) => {\n          return ((item.Nombre.toLowerCase().indexOf(val.toLowerCase()) > -1) || (item.FechaInicioEvento.toLowerCase().indexOf(val.toLowerCase()) > -1));\n        })\n      }\n    }\n  }\n\n  // getItemsMisEventos(ev: any) {\n\n  //   if (this.allitemsMisEventos != null && this.allitemsMisEventos != undefined){\n  //     // Reset items back to all of the items\n  //     this.itemsMisEventos = this.allitemsMisEventos;\n\n  //     this.searchQueryMisEventos = '';\n\n  //     // set val to the value of the searchbar\n  //     const valMisEventos = ev.target.value;\n\n  //     // if the value is an empty string don't filter the items\n  //     if (valMisEventos && valMisEventos.trim() != '') {\n  //       this.searchQueryMisEventos = valMisEventos;\n  //       this.itemsMisEventos = this.itemsMisEventos.filter((item) => {\n  //         return ((item.Nombre.toLowerCase().indexOf(valMisEventos.toLowerCase()) > -1) || (item.FechaInicioEvento.toLowerCase().indexOf(valMisEventos.toLowerCase()) > -1));\n  //       })\n  //     }\n  //   }\n  // }\n\n  info(descripcion: string){    \n    //this.navCtrl.push(TestInfoPage, {idTest: this.test.IdTest});\n    this.alert('Información', descripcion);\n  }\n\n  meApunto(idEvento: number, codigo: string){\n\n    // Se valida e inscribe al usuario en el evento\n    this.proveedor.validarAsociarEvento(this.usuario.Mensaje.AuthorizationToken, idEvento, codigo)\n    .subscribe(\n      (data)=>{this.eventoValidadoAsociado(data);},\n      (error)=>{console.log(error);}\n    )     \n  }\n\n  eventoValidadoAsociado(data: any){\n\n    if (data.Error == 0){\n      this.alert('¡Enhorabuena!', 'Te has apuntado al evento');\n      this.initializeItems();\n    }\n    // Acceso denegado\n    else if (data.Error == -10){\n      // this.proveedorLogout.logout();\n      this.proveedorLogout.logout()\n    }\n    // Aforo completo\n    else if (data.Error == -20){\n      this.alert('Aforo Completo', data.Mensaje);\n    }\n    // Plazo finalizado\n    else if (data.Error == -30){\n      this.alert('Plazo Finalizado', data.Mensaje);\n    }\n    // Límite superado\n    else if (data.Error == -40){\n      this.alert('Límite Superado', data.Mensaje);\n    }\n    else{\n      this.items = [];\n      this.alert('Error', 'Lo sentimos, ha ocurrido un error y no has podido ser apuntado en el evento. Por favor, inténtalo más tarde');\n    }\n  }\n\n  /********************* ANTIGUA FORMA DE VALIDAR LOS EVENTOS, AHORA SE HACE TODO EN SERVIDOR *********************/ \n\n  // meApunto(codigo: string, fechaFinEvento: DateTime, fechaHoy: DateTime){\n  \n  //     // var myDate = new Date().toISOString();\n\n  //     // var date = new Date();\n  //     // let latest_date =this.datePipe.transform(date, 'yyyy-MM-dd');\n\n  //     // let latest_fin =this.datePipe.transform(fechaFinEvento, 'yyyy-MM-dd');\n\n  //     // console.log('Fecha Hoy ISO:' + myDate);\n  //     //console.log('Fecha Hoy (rest):' + fechaHoy);\n  //     // console.log('Fecha Hoy (ionic):' + latest_date);\n  //     //console.log('Fecha Fin (rest):' + fechaFinEvento);\n  //     // console.log('Fecha Fin (ionic):' + latest_fin);\n  //     // console.log('Fecha Hoy (segundos):' + Date.parse(myDate));\n  //     // console.log('Fecha Fin (segundos):' + Date.parse(fechaFinEvento.toString()));\n\n  //     // Si ha terminado el plazo de inscripción\n  //     if (fechaFinEvento != null && fechaFinEvento < fechaHoy){\n  //       const alert = this.alertCtrl.create({\n  //         title: 'Plazo Finalizado',\n  //         message: 'Lo sentimos, el plazo de inscripción al evento ha finalizado y ya no puedes apuntarte', \n  //         buttons: ['OK']\n  //       });\n  //       alert.present();\n  //     }\n  //     // Si no ha terminado el plazo de inscripción\n  //     else{\n  //       this.inscribirUsuario(codigo);\n  //     }\n  // }\n\n  // inscribirUsuario(codigo: string)\n  // {\n  //     // const loader = this.loadingCtrl.create({\n  //     //   content: \"Solicitando acceso...\"\n  //     // });\n  //     // loader.present();\n\n  //     // Se inscribe al usuario en el evento\n  //     this.proveedor.asociarEvento(this.usuario.Mensaje.AuthorizationToken, codigo)\n  //     .subscribe(\n  //       //(data)=>{console.log(data);},\n  //       (data)=>{this.eventoAsociado(data);},\n  //       (error)=>{console.log(error);}\n  //       //() =>{loader.dismiss()}\n  //     )     \n  // }\n\n  // eventoAsociado(data: any){\n\n  //   if (data.Error == 0){\n\n  //     const alert = this.alertCtrl.create({\n  //       title: '¡Enhorabuena!',\n  //       subTitle: 'Te has apuntado al evento',\n  //       buttons: ['OK']\n  //     });\n  //     alert.present();\n\n  //     this.initializeItems();\n  //   }\n  //   // Acceso denegado\n  //   else if (data.Error == -10){\n  //     this.proveedorLogout.logout();\n  //   }\n  //   else{\n  //     this.items = [];\n  //     const alert = this.alertCtrl.create({\n  //       title: 'Error',\n  //       subTitle: 'Lo sentimos, ha ocurrido un error y no has podido ser apuntado en el evento. Por favor, inténtalo más tarde',\n  //       buttons: ['OK']\n  //     });\n  //     alert.present();\n  //   }\n  // }\n\n  /****************************************************************************************************************/\n\n  async borrar(idEvento: number, fechaFinEvento: Date, fechaHoy: Date){\n\n    // Si ha terminado el plazo de inscripción\n    if (fechaFinEvento != null && fechaFinEvento < fechaHoy){\n      this.alert('Plazo Finalizado', 'Lo sentimos, una vez finalizado el plazo de inscripción al evento ya no puedes darte de baja');      \n    }\n    // Si no ha terminado el plazo de inscripción\n    else{\n      const confirm = await this.alertCtrl.create({\n        header: 'Baja del Evento',\n        message: 'Vas a darte de baja en este evento y tu plaza quedará libre para otro alumno. <br/><br/> ¿Deseas darte de baja?',\n        buttons: [\n          {\n            text: 'No',\n            handler: () => {\n\n            }\n          },\n          {\n            text: 'Si',\n            handler: () => {\n              this.borrarUsuario(idEvento);            \n            }\n          }\n        ]\n      });\n      await confirm.present();\n    }\n  }\n\n  borrarUsuario(idEvento: number){\n\n    // const loader = this.loadingCtrl.create({\n    //   content: \"Tramitando baja...\"\n    // });\n    // loader.present();\n\n    // Se eliminar al usuario en el evento\n    this.proveedor.desasociarEvento(this.usuario.Mensaje.AuthorizationToken, idEvento)\n    .subscribe(\n      //(data)=>{console.log(data);},\n      (data)=>{this.eventoDesasociado(data);},\n      (error)=>{console.log(error);}\n      //() =>{loader.dismiss()}\n    ) \n  }\n\n\n  eventoDesasociado(data: any){\n\n    if (data.Error == 0){\n      this.alert('Baja completada', 'Has sido eliminado del evento');\n      this.initializeItems();\n    }\n    // Acceso denegado\n    else if (data.Error == -10){\n      this.proveedorLogout.logout();\n    }\n    else{\n      this.items = [];\n      this.alert('Error', 'Lo sentimos, ha ocurrido un error y no has podido ser eliminado en el evento. Por favor, inténtalo más tarde');\n    }\n  }\n\n  completo(){\n    this.alert('Aforo Completo', 'Lo sentimos, actualmente no quedan plazas libres en este evento');\n  }\n\n  apuntado(){\n    this.alert('Apuntado', 'Ya estás apuntado a este evento');\n  }\n\n  segmentChanged(ev: any) {\n    switch(ev.detail.value)\n    {\n      case 'eventos':\n        this.items = this.allitems;\n        break;\n      case 'misEventos':\n        this.items = this.allitems;\n        this.items = this.items.filter((item) => {\n          return ((item.Apuntado == true));\n        })\n        break;\n    }\n  }\n\n  async alert(cabecera: string, mensaje: string) {\n    const alert = await this.alertCtrl.create({\n      header: cabecera,\n      message: mensaje,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n  volver(){\n    this.router.navigate(['/tabs/tab1']);\n  }\n\n}\n"],"names":["i0","EventsPage","constructor","router","navParamService","proveedor","proveedorLogout","alertCtrl","loadingCtrl","actionSheetCtrl","storage","Date","ngOnInit","ionViewWillEnter","searchQuery","initializeItems","loading","create","message","present","get","then","val","undefined","usuario","JSON","parse","consultarEventos","Mensaje","AuthorizationToken","subscribe","data","parseJson","error","console","log","dismiss","logout","Error","jsonArray","items","allitems","length","i","jsonObject","push","getItems","ev","target","value","trim","filter","item","Nombre","toLowerCase","indexOf","FechaInicioEvento","info","descripcion","alert","meApunto","idEvento","codigo","validarAsociarEvento","eventoValidadoAsociado","borrar","fechaFinEvento","fechaHoy","confirm","header","buttons","text","handler","borrarUsuario","desasociarEvento","eventoDesasociado","completo","apuntado","segmentChanged","detail","Apuntado","cabecera","mensaje","volver","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}