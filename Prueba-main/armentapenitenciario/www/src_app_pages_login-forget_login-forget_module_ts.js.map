{"version":3,"file":"src_app_pages_login-forget_login-forget_module_ts.js","mappings":"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","sources":["./src/app/pages/login-forget/login-forget-routing.module.ts","./src/app/pages/login-forget/login-forget.module.ts","./src/app/pages/login-forget/login-forget.page.ts","./src/app/pages/login-forget/login-forget.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginForgetPage } from './login-forget.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginForgetPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginForgetPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginForgetPageRoutingModule } from './login-forget-routing.module';\n\nimport { LoginForgetPage } from './login-forget.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginForgetPageRoutingModule\n  ],\n  declarations: [LoginForgetPage]\n})\nexport class LoginForgetPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AulavirtualrestProvider } from '../../providers/aulavirtualrest';\n\n@Component({\n  selector: 'app-login-forget',\n  templateUrl: './login-forget.page.html',\n  styleUrls: ['./login-forget.page.scss'],\n})\nexport class LoginForgetPage implements OnInit {\n\n  username: string;\n\n  constructor(private router: Router, public proveedor: AulavirtualrestProvider, public alertCtrl: AlertController, public loadingCtrl: LoadingController) { }\n\n  ngOnInit() {\n  }\n\n  async recuperar(){\n\n    const loading = await this.loadingCtrl.create({\n      message: \"Recuperando...\",\n      duration: 500\n    });\n    await loading.present();\n\n    // Se genera una nueva contraseña y se le envía por email al alumno\n    this.proveedor.resetearContraseña(this.username)\n    .subscribe(\n      //(data)=>{console.log(data);},\n      (data)=>{this.nuevaContraseñaGenerada(data);},\n      (error)=>{console.log(error);},\n      () =>{loading.dismiss()}\n    )    \n  }\n\n  nuevaContraseñaGenerada(data){\n\n    // Se valida si ha habido algún error en la recuperacion\n    if (data.Error == -1)\n    {\n      // Si ha habido algún error se informa al usuario\n      this.alert('Ooops!', data.Mensaje);      \n    }\n    // Si todo ha ido bien\n    else\n    {\n      // Se informa al usuario de que todo ha ido bien\n      this.alert('Hecho!', data.Mensaje);\n\n      // Se envía al usuario a la página de inicio\n      this.router.navigate(['/login']);\n    }\n  }\n\n  async alert(cabecera: string, mensaje: string) {\n    const alert = await this.alertCtrl.create({\n      header: cabecera,\n      message: mensaje,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n}\n","<ion-header>\n  <ion-toolbar class=\"ion-text-center\" color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button text=\"Volver\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Recuperar</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding ion-text-center\">  \n  <form>\n    <header>\n      <p style=\"color: white\">RECUPERAR CONTRASEÑA</p>\n    </header>\n    <section>\n      <!-- <ion-img width=\"100\" height=\"170\" src=\"../assets/imgs/logo-login.png\" style=\"background-color: transparent\"></ion-img>   -->\n      <ion-icon name=\"lock-closed\" class=\"icon-forgot\"></ion-icon>\n    </section>\n    <ion-list>\n      <ion-item>\n        <ion-input [(ngModel)]=\"username\" name=\"username\" type=\"text\" placeholder=\"Introcuce el email de tu cuenta\" required></ion-input>        \n      </ion-item> \n    </ion-list>\n    \n    <div class=\"ion-padding\">\n      <ion-button expand=\"block\" [disabled]=\"!username\" (click)=\"recuperar()\">Recuperar Contraseña</ion-button>      \n    </div>\n  </form>\n</ion-content>\n"],"names":["LoginForgetPage","constructor","router","proveedor","alertCtrl","loadingCtrl","ngOnInit","recuperar","loading","create","message","duration","present","resetearContraseña","username","subscribe","data","nuevaContraseñaGenerada","error","console","log","dismiss","Error","alert","Mensaje","navigate","cabecera","mensaje","header","buttons","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}