{"version":3,"file":"src_app_pages_doc-viewer_doc-viewer_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AAEL;;;AAElD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAa;KACzB;CACF,CAAC;AAMK,MAAM,0BAA0B;;oGAA1B,0BAA0B;uHAA1B,0BAA0B;2HAH3B,kEAAqB,CAAC,MAAM,CAAC,EAC7B,yDAAY;mIAEX,0BAA0B,oFAF3B,yDAAY;;;;;;;;;;;;;;;;;;;;;;ACbuB;AACF;AAEA;AAC7C,2DAA2D;AACR;AAEsB;AAEvB;;AAY3C,MAAM,mBAAmB;;sFAAnB,mBAAmB;gHAAnB,mBAAmB;oHAR5B,yDAAY;QACZ,uDAAW;QACX,uDAAW;QACX,cAAc;QACd,kFAA0B;mIAIjB,mBAAmB,mBAFf,2DAAa,EAAE,wDAAW,aANvC,yDAAY;QACZ,uDAAW;QACX,uDAAW;QACX,cAAc;QACd,kFAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPxB,MAAOA,aAAP,CAAoB;EAKxBC,YAAoBC,MAApB,EAA4CC,eAA5C,EAAqFC,SAArF,EAAwHC,WAAxH,EAAsJ;IAAlI;IAAwB;IAAyC;IAAmC;IAEtH,KAAKC,IAAL,GAAY,KAAKH,eAAL,CAAqBI,UAArB,EAAZ;IACA,KAAKC,UAAL;IAEAC,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwC;MACtC,KAAKC,gBAAL;IACD,CAFD,EAEG,KAFH;EAGD;;EAEDC,QAAQ,IACP;;EAEDJ,UAAU;IAER;IAEA,IAAI,KAAKF,IAAL,CAAUO,MAAV,IAAoB,OAAxB,EAAgC;MAE9B;MACA,KAAKC,GAAL,GAAW,oFAAoF,KAAKR,IAAL,CAAUS,EAAzG,CAH8B,CAI9B;MACA;MACA;MACA;IACD,CARD,MASK,IAAI,KAAKT,IAAL,CAAUO,MAAV,IAAoB,SAAxB,EAAkC;MACrC,KAAKC,GAAL,GAAW,KAAKR,IAAL,CAAUU,GAAV,GAAgB,QAA3B;IACD,CAFI,MAGA,IAAI,KAAKV,IAAL,CAAUO,MAAV,IAAoB,UAAxB,EAAmC;MACtC,KAAKC,GAAL,GAAW,KAAKR,IAAL,CAAUU,GAArB;IACD,CAFI,MAGD;MACF;MACA,KAAKd,MAAL,CAAYe,QAAZ,CAAqB,CAAC,OAAD,CAArB;IACD;EACF;;EAEKN,gBAAgB;IAAA;;IAAA;MACpB,MAAMO,KAAK,SAAS,KAAI,CAACd,SAAL,CAAee,MAAf,CAAsB;QACxCC,MAAM,EAAE,UADgC;QAExCC,OAAO,EAAE,yGAF+B;QAGxCC,OAAO,EAAE,CAAC,IAAD;MAH+B,CAAtB,CAApB;MAKA,MAAMJ,KAAK,CAACK,OAAN,EAAN,CANoB,CAQpB;;MACA,KAAI,CAACrB,MAAL,CAAYe,QAAZ,CAAqB,CAAC,OAAD,CAArB;IAToB;EAUrB;;AArDuB;;;mBAAbjB,eAAawB,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,8EAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,6DAAAA;AAAA;;;QAAbxB;EAAayB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX1BL,4DAAAA,kBAAY,CAAZ,EAAY,aAAZ,EAAY,CAAZ,EAAY,CAAZ,EAAY,WAAZ;MAEeA,oDAAAA;MAAeA,0DAAAA;MAC1BA,4DAAAA;MACEA,uDAAAA;MACFA,0DAAAA;MAIJA,4DAAAA,mBAAa,CAAb,EAAa,KAAb,EAAa,CAAb;MAEIA,uDAAAA;;MAEFA,0DAAAA;;;;MAXaA,uDAAAA;MAAAA,+DAAAA;MAS6BA,uDAAAA;MAAAA,wDAAAA,QAAAA,yDAAAA,iBAAAA,mEAAAA","sources":["./src/app/pages/doc-viewer/doc-viewer-routing.module.ts","./src/app/pages/doc-viewer/doc-viewer.module.ts","./src/app/pages/doc-viewer/doc-viewer.page.ts","./src/app/pages/doc-viewer/doc-viewer.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DocViewerPage } from './doc-viewer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocViewerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DocViewerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n//import { PipesModule } from 'src/app/pipes/pipes.module';\nimport { SafeUrlPipe } from '../../pipes/safe-url';\n\nimport { DocViewerPageRoutingModule } from './doc-viewer-routing.module';\n\nimport { DocViewerPage } from './doc-viewer.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    //PipesModule,\n    DocViewerPageRoutingModule\n  ],\n  declarations: [DocViewerPage, SafeUrlPipe]\n})\nexport class DocViewerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { NavparamService } from 'src/app/services/navparam.service';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\n@Component({\n  selector: 'app-doc-viewer',\n  templateUrl: './doc-viewer.page.html',\n  styleUrls: ['./doc-viewer.page.scss'],\n})\nexport class DocViewerPage implements OnInit {\n\n  item: any;\n  url: any;\n\n  constructor(private router: Router, private navParamService: NavparamService, public alertCtrl: AlertController, public loadingCtrl: LoadingController) { \n\n    this.item = this.navParamService.getNavData();\n    this.obtenerUrl();\n\n    document.addEventListener('screenshot', function() {\n      this.capturaDetectada();\n    }, false);\n  }\n\n  ngOnInit() {\n  }\n\n  obtenerUrl(){\n\n    //this.url = \"Content-Security-Policy: frame-ancestors 'self' \" + this.item.URL + \"X-Frame-Options: ALLOW-FROM https://www.dropbox.com\";\n\n    if (this.item.Fuente == \"local\"){\n      \n      // VISUALIZACIÓN\n      this.url = \"http://aulavirtualctp.com/Academias/VisorDocumentos/Web/ViewerMobile.aspx?file=\" + this.item.ID;\n      // console.log(this.url);\n      // DESCARGA\n      // TODO: Comprobar si la descarga está habilitada y si es encriptado o no\n      //this.url = \"http://aulavirtualctp.com/Academias/docCurso.ashx?Id=\" + this.item.ID;      \n    }\n    else if (this.item.Fuente == \"dropbox\"){\n      this.url = this.item.URL + \"&raw=1\";\n    }\n    else if (this.item.Fuente == \"genially\"){\n      this.url = this.item.URL;\n    }\n    else{\n      //this.navCtrl.push(DocsPage);\n      this.router.navigate(['/docs']);\n    }\n  }\n\n  async capturaDetectada(){\n    const alert = await this.alertCtrl.create({\n      header: 'Atención',\n      message: 'Se detectó una captura de pantalla y ha sido comunicado a tu centro para que tome las medidas oportunas',\n      buttons: ['OK']\n    });\n    await alert.present();\n    \n    //this.navCtrl.push(DocsPage);\n    this.router.navigate(['/docs']);\n  }\n  \n}\n","<ion-header>\n  <ion-toolbar class=\"ion-text-center\" color=\"primary\">\n    <ion-title>{{item.Nombre}}</ion-title>\n    <ion-buttons slot=\"start\">\n      <ion-back-button text=\"Volver\"></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div style=\"width:100%; height:100%;\">\n    <iframe style=\"width:100%; height:100%\" [src]=\"url | safeUrl\">\n    </iframe>\n  </div>\n</ion-content>\n"],"names":["DocViewerPage","constructor","router","navParamService","alertCtrl","loadingCtrl","item","getNavData","obtenerUrl","document","addEventListener","capturaDetectada","ngOnInit","Fuente","url","ID","URL","navigate","alert","create","header","message","buttons","present","i0","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}